<!DOCTYPE html>
<html>
<head>
    <title>Create Match</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<h2>Create Match</h2>

<input id="teamA" placeholder="Team A ID">
<input id="teamB" placeholder="Team B ID">
<input id="date" type="datetime-local">

<button onclick="createMatch()">Create Match</button>

<p id="error" class="error"></p>

<script src="app.js"></script>
<script>
    async function createMatch() {
        try {
            await api("http://localhost:8080/matches", "POST", {
                teamAId: Number(teamA.value),
                teamBId: Number(teamB.value),
                scheduledAt: date.value
            });

            redirect("teams.html");

        } catch (err) {
            showError("error", err.message);
        }
    }
    document.addEventListener("keydown", function(event) {
        if (event.key === "Enter") {
            event.preventDefault();
            const btn = document.querySelector("button");
            if (btn) btn.click();
        }
    });
    clearErrorOnInput("error");
</script>

</body>
</html>
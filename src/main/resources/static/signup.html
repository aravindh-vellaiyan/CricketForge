<!DOCTYPE html>
<html>
<head>
    <title>Signup</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<h2>Signup</h2>

<label for="name"></label><input id="name" placeholder="Name">
<label for="email"></label><input id="email" placeholder="Email">
<label for="password"></label><input id="password" type="password" placeholder="Password">

<button onclick="signup()">Signup</button>

<p class="error" id="error"></p>

<script src="app.js"></script>
<script>
    async function signup() {
        try {
            const nameValue = document.getElementById("name").value;
            const emailValue = document.getElementById("email").value;
            const passwordValue = document.getElementById("password").value;

            await api("http://localhost:8080/auth/signup", "POST", {
                name: nameValue,
                email: emailValue,
                password: passwordValue
            });

            redirect("login.html");

        } catch (err) {
            showError("error", err.message);
        }
    }
    document.addEventListener("keydown", function(event) {
        if (event.key === "Enter") {
            event.preventDefault();
            const btn = document.querySelector("button");
            if (btn) btn.click();
        }
    });
    document.addEventListener("", function() {

    });
    clearErrorOnInput("error");
</script>
</body>
</html>